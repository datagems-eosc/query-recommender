{
  "components": {
    "schemas": {
      "APRequest": {
        "properties": {
          "directed": {
            "default": true,
            "title": "Directed",
            "type": "boolean"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/Edge"
            },
            "title": "Edges",
            "type": "array"
          },
          "multigraph": {
            "default": true,
            "title": "Multigraph",
            "type": "boolean"
          },
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/Node"
            },
            "title": "Nodes",
            "type": "array"
          }
        },
        "required": [
          "nodes",
          "edges"
        ],
        "title": "APRequest",
        "type": "object"
      },
      "APSuccessEnvelope": {
        "properties": {
          "ap": {
            "additionalProperties": true,
            "title": "Ap",
            "type": "object"
          },
          "code": {
            "title": "Code",
            "type": "integer"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message",
          "ap"
        ],
        "title": "APSuccessEnvelope",
        "type": "object"
      },
      "Body_data_workflow_api_v1_data_workflow_post": {
        "properties": {
          "dataset_id": {
            "title": "Dataset Id",
            "type": "string"
          },
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          },
          "file_name": {
            "title": "File Name",
            "type": "string"
          }
        },
        "required": [
          "file",
          "file_name",
          "dataset_id"
        ],
        "title": "Body_data_workflow_api_v1_data_workflow_post",
        "type": "object"
      },
      "DatasetState": {
        "enum": [
          "Ready",
          "Loaded",
          "Staged",
          "Deleted"
        ],
        "title": "DatasetState",
        "type": "string"
      },
      "DatasetSuccessEnvelope": {
        "properties": {
          "code": {
            "title": "Code",
            "type": "integer"
          },
          "dataset": {
            "additionalProperties": true,
            "title": "Dataset",
            "type": "object"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message",
          "dataset"
        ],
        "title": "DatasetSuccessEnvelope",
        "type": "object"
      },
      "DatasetType": {
        "enum": [
          "PDF",
          "RelationalDatabase",
          "CSV",
          "ImageSet",
          "TextSet",
          "Table"
        ],
        "title": "DatasetType",
        "type": "string"
      },
      "DatasetsSuccessEnvelope": {
        "properties": {
          "code": {
            "title": "Code",
            "type": "integer"
          },
          "datasets": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Datasets",
            "type": "array"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "code",
          "message",
          "datasets"
        ],
        "title": "DatasetsSuccessEnvelope",
        "type": "object"
      },
      "Edge": {
        "properties": {
          "from": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ],
            "title": "From"
          },
          "labels": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Labels",
            "type": "array"
          },
          "to": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ],
            "title": "To"
          }
        },
        "required": [
          "from",
          "to"
        ],
        "title": "Edge",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "Node": {
        "properties": {
          "@id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ],
            "title": "@Id"
          },
          "labels": {
            "items": {
              "type": "string"
            },
            "title": "Labels",
            "type": "array"
          },
          "properties": {
            "additionalProperties": true,
            "title": "Properties",
            "type": "object"
          }
        },
        "required": [
          "@id",
          "labels",
          "properties"
        ],
        "title": "Node",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      }
    }
  },
  "info": {
    "description": "API for data and model management",
    "title": "Dataset API",
    "version": "1.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/api/v1": {
      "get": {
        "description": "API root endpoint showing available endpoints",
        "operationId": "api_home_api_v1_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Api Home"
      }
    },
    "/api/v1/data-workflow": {
      "post": {
        "description": "Handle data workflow by uploading files and assigning metadata.",
        "operationId": "data_workflow_api_v1_data_workflow_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_data_workflow_api_v1_data_workflow_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Data Workflow"
      }
    },
    "/api/v1/dataset": {
      "get": {
        "description": "Return all datasets, with optional filtering",
        "operationId": "get_datasets_api_v1_dataset_get",
        "parameters": [
          {
            "description": "Optional dataset type to filter on. If omitted, only datasets in Ready state are returned.",
            "in": "query",
            "name": "type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/DatasetType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional dataset type to filter on. If omitted, only datasets in Ready state are returned.",
              "title": "Type"
            }
          },
          {
            "description": "Optional dataset state to filter on.",
            "in": "query",
            "name": "state",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/DatasetState"
                },
                {
                  "type": "null"
                }
              ],
              "default": "Ready",
              "description": "Optional dataset state to filter on.",
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetsSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Datasets"
      }
    },
    "/api/v1/dataset/load": {
      "put": {
        "description": "Move dataset files from scratchpad to permanent storage",
        "operationId": "load_dataset_api_v1_dataset_load_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Load Dataset"
      }
    },
    "/api/v1/dataset/register": {
      "post": {
        "description": "Register a new dataset in Neo4j",
        "operationId": "register_dataset_api_v1_dataset_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Register Dataset"
      }
    },
    "/api/v1/dataset/update": {
      "put": {
        "description": "Update a dataset in Neo4j",
        "operationId": "update_dataset_api_v1_dataset_update_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Dataset"
      }
    },
    "/api/v1/dataset/{dataset_id}": {
      "get": {
        "description": "Return dataset with a specific ID from Neo4j via MoMa API",
        "operationId": "get_dataset_api_v1_dataset__dataset_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "dataset_id",
            "required": true,
            "schema": {
              "title": "Dataset Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Dataset"
      }
    },
    "/api/v1/polyglot/query": {
      "post": {
        "description": "Execute a SQL query on a dataset based on an Analytical Pattern",
        "operationId": "execute_query_api_v1_polyglot_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/APRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APSuccessEnvelope"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Execute Query"
      }
    },
    "/api/v1/test-postgres-duckdb": {
      "get": {
        "operationId": "test_postgres_connection_api_v1_test_postgres_duckdb_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Test Postgres Connection"
      }
    }
  },
  "servers": [
    {
      "url": "/dmm"
    }
  ]
}
